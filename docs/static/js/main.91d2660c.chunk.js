(this["webpackJsonpdata-table"]=this["webpackJsonpdata-table"]||[]).push([[0],{170:function(e,t,n){},176:function(e,t,n){},221:function(e,t,n){"use strict";n.r(t);var a,r,c=n(0),i=n.n(c),o=n(14),l=n.n(o),s=(n(170),n(272)),u=n(259),d=n(261),j=n(5),b=n(263),p=n(264),O=n(292),f=n(265),h=Object(u.a)((function(){return{root:{width:"100%",fontSize:"11px"},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1},subtitle1:{paddingBottom:"15px"}}})),x=Object(d.a)({palette:{primary:{main:"#5AA9E6",light:"#D8EEFD",dark:"#BADCF3"},secondary:{main:"#5AA9E6"},warning:{main:"#FFE45E"},error:{main:"#F50049",contrastText:"#FFFFFF"}},overrides:{MuiInputBase:{root:{fontSize:"14px"}},MuiCheckbox:{root:{color:"#5AA9E6"}},MuiTableFooter:{root:{display:"block"}},MuiTablePagination:{root:{borderBottom:"none"}},MuiDialogContent:{root:{paddingLeft:"15px",overflowY:"unset"}},MuiDialogTitle:{root:{padding:"15px"}}}}),m=Object(j.a)((function(){return{head:{backgroundColor:x.palette.primary.main,color:x.palette.common.white}}}))(b.a),g=Object(j.a)((function(){return{root:{"&:nth-of-type(even)":{backgroundColor:x.palette.primary.light},"&.Mui-selected, &.Mui-selected:hover":{backgroundColor:x.palette.primary.dark}}}}))(p.a),v=Object(j.a)((function(){return{body:{backgroundColor:x.palette.warning.main}}}))(b.a),T=Object(j.a)((function(){return{body:{backgroundColor:x.palette.error.main,color:x.palette.error.contrastText}}}))(b.a),y=Object(j.a)((function(){return{root:{borderBottom:"none",padding:"8px"}}}))(b.a),w=Object(j.a)((function(){return{root:{fontSize:"14px","&:hover, &:focus":{color:x.palette.common.white},"&.MuiTableSortLabel-active":{color:x.palette.common.white}},icon:{color:"inherit !important"}}}))(O.a),C=Object(j.a)((function(){return{root:{color:x.palette.primary.main,backgroundColor:x.palette.common.white,border:"1px solid ".concat(x.palette.primary.main),"&:hover":{backgroundColor:x.palette.primary.light,border:"1px solid ".concat(x.palette.primary.main)}}}}))(f.a),E=Object(j.a)((function(){return{root:{color:x.palette.common.white,alignSelf:"center","&:hover":{backgroundColor:x.palette.primary.main},marginRight:"10px"}}}))(f.a),S=n(39),k=n.n(S),I=n(58),D=n(18),P=(n(176),n(271)),M=n(282),A=n(279),N=n(266),R=n(287),F=n(4),L=function(e){var t=e.columns,n=e.rows,a=e.orderBy,r=e.order,c=e.setOrder,i=e.setOrderBy,o=e.checkedAll,l=e.checkAll,s=e.setSelected;return Object(F.jsx)(N.a,{children:Object(F.jsxs)(p.a,{children:[Object(F.jsx)(m,{padding:"checkbox",children:Object(F.jsx)(R.a,{inputProps:{"aria-label":"select all"},style:{color:"white"},checked:o,onClick:function(){return function(){if(o)l(!1),s([]);else{var e=n.map((function(e){return e.id}));l(!0),s(e)}}()}})}),t.map((function(e){return Object(F.jsx)(m,{id:e.id,width:e.width,sortDirection:a===e.field&&r,children:Object(F.jsx)(w,{id:e.id,active:a===e.field,direction:a===e.field?r:"asc",onClick:function(){return t=e.field,c("asc"===r?"desc":"asc"),void i(t);var t},children:e.label})},e.id)})),Object(F.jsx)(m,{padding:"checkbox"})]})})},_=n(281),B=n(286),U=n(154),V=function(e){var t=e.selected;return Object(F.jsx)(b.a,{align:"left",style:{flexGrow:1,borderBottom:"none"},children:t.length?1===t.length?"1 item selected":"".concat(t.length," items selected"):""})},z=function(){return Object(F.jsx)(p.a,{children:Object(F.jsx)(b.a,{colSpan:13,children:Object(F.jsx)(U.a,{variant:"h6",style:{textAlign:"center",margin:"30px"},children:"No items matching set filters"})})})},q=n(35),G=n(17),X=n(290),Y=n(274),J=n(273),H=n(278),K=n(277),Q=n(280),W=n(81),Z=n(288),$=n(285),ee=n(21),te=n(283),ne=n(130),ae=n(40),re=n.n(ae),ce=n(97),ie=n.n(ce);!function(e){e.UAT="UAT",e.PROD="PROD",e.DEV="DEV"}(a||(a={})),function(e){e.STRING="STRING",e.NUMERIC="NUMERIC",e.DATE="DATE",e.TIMESTAMP="TIMESTAMP",e.LIST="LIST"}(r||(r={}));var oe=function(){var e=Object(I.a)(k.a.mark((function e(){var t;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie.a.get("https://run.mocky.io/v3/6f15e3ad-bf04-4940-9b81-0f14fac8ebf2");case 2:return t=e.sent,e.abrupt("return",t.data.items.map((function(e){return Object(G.a)(Object(G.a)({},e),{},{id:e.ID,UPDATE_TIMESTAMP:(t=e.UPDATE_TIMESTAMP,new Date(t.slice(0,-7)))});var t})));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),le=function(){var e=Object(I.a)(k.a.mark((function e(){var t;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie.a.get("https://run.mocky.io/v3/9700b81e-1edd-49b8-8160-736b24a989a7");case 2:return t=e.sent,e.abrupt("return",Object.keys(t.data.config).reduce((function(e,n){var a=t.data.config[n].label,r=Object(G.a)(Object(G.a)({},t.data.config[n]),{},{field:n,headerName:a,sortable:!0,id:re.a.uniqueId()});return e.push(r),e}),[]));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),se={DESCRIPTION:{placeholder:"Lorem ipsum",inputType:"TEXT",label:"Item description:",dataType:"text"},SOURCE_NM:{inputType:"LIST",label:"Source:",source:Object.values(a)},CLIENT_NM:{inputType:"AUTOCOMPLETE",label:"Client name:",placeholder:"KOG"},TERMINATION_DT:{inputType:"DATE",label:"Termination date"},VALUE_3:{placeholder:"0 - 100000000",inputType:"TEXT",label:"Max range",dataType:"number"},defaultValue:{placeholder:null,inputType:null,label:null,dataType:null}},ue=function(e){var t,n=e.field,a=e.values,r=e.handleChange,c=e.clients,i=e.setValues,o=e.handleDateChange,l=e.row,u=e.type,d=h(),j=se[n]||se.defaultValue,p=j.inputType,O=j.placeholder,f=j.label,m=j.dataType,g=j.source,v=void 0===g?null:g;switch(p){case"TEXT":t=Object(F.jsx)(Z.a,{type:m,defaultValue:a[n],name:n,size:"small",id:"input-descr",style:{width:"100%"},onChange:r,placeholder:"form"===u?O:""});break;case"LIST":t=Object(F.jsx)(Z.a,{id:"select-source",select:!0,defaultValue:a[n],name:n,onChange:r,SelectProps:{native:!0},children:("form"===u?["All"].concat(Object(W.a)(v)):v).map((function(e){return Object(F.jsx)("option",{value:e,children:e},e)}))});break;case"AUTOCOMPLETE":t=Object(F.jsx)($.a,{id:"picker",size:"small",options:c,onChange:function(e,t){return i(Object(G.a)(Object(G.a)({},a),{},Object(q.a)({},n,t)))},defaultValue:a[n],getOptionLabel:function(e){return e||""},renderInput:function(e){return Object(F.jsx)(Z.a,Object(G.a)(Object(G.a)({},e),{},{variant:"outlined",placeholder:"form"===u?O:""}))}});break;case"DATE":t=Object(F.jsx)(ee.a,{utils:ne.a,children:Object(F.jsx)(s.a,{theme:x,children:Object(F.jsx)(te.a,{variant:"inline",openTo:"year",name:n,views:["year","month"],value:"form"===u?a[n]:new Date(a[n]),onChange:o})})});break;default:t=l[n].toString()}return Object(F.jsxs)(b.a,{children:["form"===u&&Object(F.jsx)(U.a,{variant:"subtitle1",gutterBottom:!0,className:d.subtitle1,children:f}),t]})},de=function(e){var t={DESCRIPTION:"",SOURCE_NM:"",CLIENT_NM:null,TERMINATION_DT:null,VALUE_3:null},n=e.open,a=e.onClose,r=e.clients,i=e.filterData,o=Object(c.useState)(t),l=Object(D.a)(o,2),s=l[0],u=l[1],d=function(e){"cancel"===e?(u(t),a()):(u(t),i(s))},j=function(e){var t=(e.getMonth()+1).toString(),n=null===e||void 0===e?void 0:e.getFullYear(),a="".concat(n,"-").concat(t.padStart(2,"0"));u(Object(G.a)(Object(G.a)({},s),{},{TERMINATION_DT:a}))},b=function(e){var t=e.target,n=t.name,a=t.value;u(Object(G.a)(Object(G.a)({},s),{},Object(q.a)({},n,a)))};return Object(F.jsxs)(X.a,{open:n,onClose:a,"aria-labelledby":"form-dialog-title",PaperProps:{style:{width:600,padding:"20px 30px"}},children:[Object(F.jsx)(K.a,{id:"form-dialog-title",children:"Data filters"}),Object(F.jsx)(J.a,{children:Object(F.jsx)(H.a,{children:"Choose fields to filter rows:"})}),Object(F.jsx)(A.a,{children:Object(F.jsx)(Q.a,{children:Object(F.jsx)(p.a,{style:{width:"100%",display:"flex",flexDirection:"column"},children:["DESCRIPTION","SOURCE_NM","CLIENT_NM","TERMINATION_DT","VALUE_3"].map((function(e){return Object(F.jsx)(ue,{field:e,values:s,handleChange:b,clients:r,setValues:u,handleDateChange:j,row:t,type:"form"},e)}))})})}),Object(F.jsxs)(Y.a,{children:[Object(F.jsx)(f.a,{onClick:function(){return d("cancel")},color:"primary",children:"Cancel"}),Object(F.jsx)(f.a,{onClick:function(){return d("save")},color:"primary",children:"Filter"})]})]})},je=function(e){var t=e.rows,n=e.rowsPerPage,a=e.selected,r=e.edited,c=e.activeFilter,o=e.getRows,l=e.setRowsData,s=e.toggleFilter,u=e.page,d=e.clients,j=e.setPage,b=e.setRowsPerPage,O=i.a.useState(!1),h=Object(D.a)(O,2),x=h[0],m=h[1];return Object(F.jsx)(A.a,{children:Object(F.jsxs)(_.a,{children:[Object(F.jsx)(de,{clients:d,open:x,onClose:function(){m(!1),s(!1)},filterData:function(e){return function(e){var n=Object.keys(e).filter((function(t){return e[t]})),a=t.filter((function(t){return n.every((function(n){return"DESCRIPTION"===n?t[n].toLowerCase().includes(e[n].toLowerCase()):e[n]===t[n]}))}));l(a),m(!1),s(!0)}(e)}}),Object(F.jsxs)(p.a,{style:{display:"flex"},children:[Object(F.jsx)(V,{selected:a}),Object(F.jsxs)(y,{children:[Object(F.jsx)(E,{variant:"contained",color:"primary",onClick:function(){m(!0)},disabled:!1!==r,children:"Filter"}),c&&Object(F.jsx)(f.a,{variant:"outlined",color:"primary",disabled:!1!==r,onClick:function(){return Promise.resolve(o()).then((function(e){return l(e)})).then((function(){return s(!1)}))},children:"Clear filters"})]}),Object(F.jsx)(B.a,{count:t.length,rowsPerPage:n,onChangeRowsPerPage:function(e){var t=e.target.value;b(parseInt(t,10)),j(0)},page:u,onChangePage:function(e,t){j(t)}})]})]})})},be=function(e){var t=e.row,n=e.colsNames,a=e.saveData,r=e.clients,i=Object(c.useState)(t),o=Object(D.a)(i,2),l=o[0],s=o[1],u=function(e){var t=(e.getMonth()+1).toString(),n=null===e||void 0===e?void 0:e.getFullYear(),a="".concat(n,"-").concat(t.padStart(2,"0"));s(Object(G.a)(Object(G.a)({},l),{},{TERMINATION_DT:a}))},d=function(e){var t=e.target,n=t.name,a=t.value;s(Object(G.a)(Object(G.a)({},l),{},Object(q.a)({},n,a)))};return Object(F.jsxs)(p.a,{children:[Object(F.jsx)(b.a,{padding:"checkbox",children:Object(F.jsx)(R.a,{disabled:!0})},"checkbox"),n.map((function(e){return Object(F.jsx)(ue,{field:e,values:l,handleChange:d,clients:r,setValues:s,handleDateChange:u,row:t,type:"table"},e)})),Object(F.jsx)(b.a,{padding:"checkbox",children:Object(F.jsx)(C,{variant:"contained",color:"primary",onClick:function(){return a(l)},children:"Save"})},t.id)]},t.id)},pe=n(275),Oe=function(){return Object(F.jsx)(p.a,{children:Object(F.jsx)(b.a,{colSpan:13,children:Object(F.jsx)(pe.a,{size:50,style:{margin:"0 50%"}})})})},fe=function(e,t,n){var a=re.a.sortBy(e,(function(e){return"string"===typeof e[t]?e[t].toLowerCase():e[t]}));return"asc"===n?a:a.reverse()},he=function(e){var t=e.rows,n=e.orderBy,a=e.order,r=e.page,i=e.rowsPerPage,o=e.edited,l=e.setSelected,s=e.selected,u=e.columns,d=e.setEdited,j=e.setRowsData,p=e.clients,O=e.activeFilter,f=Object(c.useMemo)((function(){return u.map((function(e){return e.field}))}),[u]);return Object(F.jsx)(Q.a,{children:t.length?fe(t,n,a).slice(r*i,r*i+i).map((function(e){var n=-1!==s.indexOf(e.id);return o!==e.id?Object(F.jsxs)(g,{selected:-1!==s.indexOf(e.id),children:[Object(F.jsx)(b.a,{padding:"checkbox",children:Object(F.jsx)(R.a,{checked:n,onClick:function(){return function(e){if(s.includes(e)){var t=s.filter((function(t){return t!==e}));l(t)}else l([].concat(Object(W.a)(s),[e]))}(e.id)}})}),f.map((function(t){return"VALUE_1"===t&&e[t]>2e3?e[t]<3e3?Object(F.jsx)(v,{children:e[t]},re.a.uniqueId()):Object(F.jsx)(T,{children:e[t]},re.a.uniqueId()):"UPDATE_TIMESTAMP"===t?Object(F.jsxs)(b.a,{children:[e[t].toLocaleDateString()," ",e[t].toLocaleTimeString()]},re.a.uniqueId()):Object(F.jsx)(b.a,{children:e[t]},re.a.uniqueId())})),Object(F.jsx)(b.a,{padding:"checkbox",children:Object(F.jsx)(C,{variant:"outlined",color:"primary",onClick:function(){return d(e.id)},disabled:!1!==o&&o!==e.id,children:"Edit"})},e.id)]},e.id):Object(F.jsx)(be,{row:e,colsNames:f,saveData:function(e){return function(e){var n=t.map((function(t){return t.id===o?Object.keys(e).reduce((function(n,a){return n[a]=e[a]?e[a]:t[a],n}),{}):t}));j(n),d(!1)}(e)},clients:p},e.id)})):O?Object(F.jsx)(z,{}):Object(F.jsx)(Oe,{})})},xe=function(e){var t=e.rows,n=e.columns,a=e.setRowsData,r=i.a.useState(0),o=Object(D.a)(r,2),l=o[0],s=o[1],u=i.a.useState(10),d=Object(D.a)(u,2),j=d[0],b=d[1],p=i.a.useState("asc"),O=Object(D.a)(p,2),f=O[0],h=O[1],x=i.a.useState("RN"),m=Object(D.a)(x,2),g=m[0],v=m[1],T=i.a.useState([]),y=Object(D.a)(T,2),w=y[0],C=y[1],E=i.a.useState(!1),S=Object(D.a)(E,2),k=S[0],I=S[1],N=i.a.useState(!1),R=Object(D.a)(N,2),_=R[0],B=R[1],U=i.a.useState(!1),V=Object(D.a)(U,2),z=V[0],q=V[1],G=Object(c.useMemo)((function(){return t.map((function(e){return e.CLIENT_NM}))}),[t]);return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(M.a,{component:P.a,children:Object(F.jsxs)(A.a,{"aria-label":"simple table",size:"small",children:[Object(F.jsx)(L,{columns:n,rows:t,order:f,orderBy:g,checkAll:I,checkedAll:k,setOrder:h,setOrderBy:v,setSelected:C}),Object(F.jsx)(he,{rows:t,orderBy:g,order:f,page:l,rowsPerPage:j,edited:_,selected:w,setEdited:B,columns:n,setRowsData:a,clients:G,activeFilter:z,setSelected:C})]})}),Object(F.jsx)(je,{rows:t,rowsPerPage:j,selected:w,edited:_,activeFilter:z,getRows:oe,setRowsData:a,toggleFilter:q,setRowsPerPage:b,page:l,setPage:s,clients:G})]})},me=function(){var e=h(),t=Object(c.useState)([]),n=Object(D.a)(t,2),a=n[0],r=n[1],i=Object(c.useState)([]),o=Object(D.a)(i,2),l=o[0],s=o[1];return Object(c.useEffect)((function(){Object(I.a)(k.a.mark((function e(){var t,n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,le();case 2:return t=e.sent,s(t),e.next=6,oe();case 6:n=e.sent,r(n);case 8:case"end":return e.stop()}}),e)})))()}),[]),Object(F.jsx)("div",{className:e.root,children:Object(F.jsx)(P.a,{children:Object(F.jsx)(xe,{rows:a,columns:l,setRowsData:r})})})},ge=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,295)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))};l.a.render(Object(F.jsx)(i.a.StrictMode,{children:Object(F.jsx)(s.a,{theme:x,children:Object(F.jsx)(me,{})})}),document.getElementById("root")),ge()}},[[221,1,2]]]);
//# sourceMappingURL=main.91d2660c.chunk.js.map