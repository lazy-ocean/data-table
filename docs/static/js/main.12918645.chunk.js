(this["webpackJsonpdata-table"]=this["webpackJsonpdata-table"]||[]).push([[0],{171:function(e,t,n){},177:function(e,t,n){},222:function(e,t,n){"use strict";n.r(t);var a,r,c=n(0),i=n.n(c),o=n(14),l=n.n(o),s=(n(171),n(273)),u=n(260),d=n(262),b=n(5),j=n(264),f=n(265),p=n(292),h=n(266),O=Object(u.a)((function(){return{root:{width:"100%",fontSize:"11px"},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1},subtitle1:{paddingBottom:"15px"}}})),g=Object(d.a)({palette:{primary:{main:"#5AA9E6",light:"#D8EEFD",dark:"#BADCF3"},secondary:{main:"#5AA9E6"},warning:{main:"#FFE45E"},error:{main:"#F50049",contrastText:"#FFFFFF"}},typography:{h3:{textAlign:"center",margin:"30px",fontSize:"20px"}},overrides:{MuiInputBase:{root:{fontSize:"14px"}},MuiCheckbox:{root:{color:"#5AA9E6"}},MuiTableFooter:{root:{display:"block"}},MuiTablePagination:{root:{borderBottom:"none"}},MuiDialogContent:{root:{paddingLeft:"15px",overflowY:"unset"}},MuiDialogTitle:{root:{padding:"15px"}},MuiCircularProgress:{root:{margin:"10% 50%"}},MuiTableContainer:{root:{maxHeight:"94vh"}},MuiPaper:{root:{"&.MuiDialog-paperScrollPaper":{padding:"20px 30px"}}},MuiChip:{root:{marginLeft:"10px"}}}}),m=Object(b.a)((function(){return{head:{backgroundColor:g.palette.primary.main,color:g.palette.common.white,lineHeight:"1.3rem"}}}))(j.a),x=Object(b.a)((function(){return{root:{"&:nth-of-type(even)":{backgroundColor:g.palette.primary.light},"&.Mui-selected, &.Mui-selected:hover":{backgroundColor:g.palette.primary.dark}}}}))(f.a),v=Object(b.a)((function(){return{body:{backgroundColor:g.palette.warning.main}}}))(j.a),T=Object(b.a)((function(){return{body:{backgroundColor:g.palette.error.main,color:g.palette.error.contrastText}}}))(j.a),y=Object(b.a)((function(){return{root:{borderBottom:"none",marginLeft:"auto"}}}))(j.a),w=Object(b.a)((function(){return{root:{fontSize:"14px","&:hover, &:focus":{color:g.palette.common.white},"&.MuiTableSortLabel-active":{color:g.palette.common.white}},icon:{color:"inherit !important"}}}))(p.a),C=Object(b.a)((function(){return{root:{color:g.palette.primary.main,backgroundColor:g.palette.common.white,border:"1px solid ".concat(g.palette.primary.main),"&:hover":{backgroundColor:g.palette.primary.light,border:"1px solid ".concat(g.palette.primary.main)}}}}))(h.a),S=Object(b.a)((function(){return{root:{color:g.palette.common.white,alignSelf:"center","&:hover":{backgroundColor:g.palette.primary.main},marginRight:"10px"}}}))(h.a),E=Object(b.a)((function(){return{root:{width:"100%",display:"flex",flexDirection:"column"}}}))(f.a),k=n(41),I=n.n(k),M=n(55),D=n(18),P=(n(177),n(272)),A=n(283),N=n(280),R=n(267),F=n(288),L=n(4),U=function(e){var t=e.columns,n=e.rows,a=e.orderBy,r=e.order,c=e.setOrder,i=e.setOrderBy,o=e.checkedAll,l=e.checkAll,s=e.setSelected;return Object(L.jsx)(R.a,{children:Object(L.jsxs)(f.a,{children:[Object(L.jsx)(m,{padding:"checkbox",children:Object(L.jsx)(F.a,{inputProps:{"aria-label":"select all"},style:{color:"white"},checked:o,onClick:function(){return function(){if(o)l(!1),s([]);else{var e=n.map((function(e){return e.id}));l(!0),s(e)}}()}})}),t.map((function(e){return Object(L.jsx)(m,{id:e.id,align:"NUMERIC"===e.type?"right":"left",width:e.width,sortDirection:a===e.field&&r,children:Object(L.jsx)(w,{id:e.id,active:a===e.field,direction:a===e.field?r:"asc",onClick:function(){return t=e.field,c("asc"===r?"desc":"asc"),void i(t);var t},children:e.label})},e.id)})),Object(L.jsx)(m,{padding:"checkbox"})]})})},_=n(282),B=n(286),V=n(154),z=Object(b.a)((function(){return{root:{borderBottom:"none"}}}))(j.a),G=function(e){var t=e.selected;return Object(L.jsx)(z,{align:"left",children:Object(L.jsx)(V.a,{variant:"subtitle1",children:t.length?1===t.length?"1 item selected":"".concat(t.length," items selected"):""})})},H=function(){return Object(L.jsx)(f.a,{children:Object(L.jsx)(j.a,{colSpan:13,children:Object(L.jsx)(V.a,{variant:"h3",children:"No items matching set filters"})})})},X=function(){return Object(L.jsx)(V.a,{variant:"h3",children:"Something went wrong. Please try reloading the page"})},Y=n(37),J=n(17),W=n(291),q=n(275),K=n(274),Q=n(279),Z=n(278),$=n(281),ee=n(78),te=n(289),ne=n(287),ae=n(21),re=n(284),ce=n(130),ie=n(73),oe=n.n(ie),le=n(94),se=n.n(le);!function(e){e.UAT="UAT",e.PROD="PROD",e.DEV="DEV"}(a||(a={})),function(e){e.STRING="STRING",e.NUMERIC="NUMERIC",e.DATE="DATE",e.TIMESTAMP="TIMESTAMP",e.LIST="LIST"}(r||(r={}));var ue=function(e){var t=new Date(e.slice(0,-7));return"".concat(t.toLocaleDateString()," \n        ").concat(t.toLocaleTimeString())},de=function(){var e=Object(M.a)(I.a.mark((function e(){var t;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,se.a.get("https://run.mocky.io/v3/6f15e3ad-bf04-4940-9b81-0f14fac8ebf2");case 2:return t=e.sent,e.abrupt("return",t.data.items.map((function(e){return Object(J.a)(Object(J.a)({},e),{},{id:e.ID,UPDATE_TIMESTAMP:ue(e.UPDATE_TIMESTAMP)})})));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),be=function(){var e=Object(M.a)(I.a.mark((function e(){var t;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,se.a.get("https://run.mocky.io/v3/9700b81e-1edd-49b8-8160-736b24a989a7");case 2:return t=e.sent,e.abrupt("return",Object.keys(t.data.config).reduce((function(e,n){var a=t.data.config[n].label,r=Object(J.a)(Object(J.a)({},t.data.config[n]),{},{field:n,headerName:a,sortable:!0,id:oe.a.uniqueId()});return e.push(r),e}),[]));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),je={VALUE_1:{danger:3e3,warning:2e3}},fe=["DESCRIPTION","SOURCE_NM","CLIENT_NM","TERMINATION_DT","VALUE_3"],pe={DESCRIPTION:{placeholder:"Lorem ipsum",inputType:"TEXT",label:"Item description:",dataType:"text"},SOURCE_NM:{inputType:"LIST",label:"Source:",source:Object.values(a)},CLIENT_NM:{inputType:"AUTOCOMPLETE",label:"Client name:",placeholder:"KOG"},TERMINATION_DT:{inputType:"DATE",label:"Termination date:"},VALUE_3:{placeholder:"0 - 100000000",inputType:"TEXT",label:"Max range:",dataType:"number"},defaultValue:{placeholder:null,inputType:null,label:null,dataType:null}},he=function(e){var t,n=e.field,a=e.displayType,r=e.values,c=e.handleChange,i=e.clients,o=e.setValues,l=e.handleDateChange,u=e.row,d=e.view,b=O(),f=pe[n]||pe.defaultValue,p=f.inputType,h=f.placeholder,m=f.label,x=f.dataType,v=f.source,T=void 0===v?null:v;switch(p){case"TEXT":t=Object(L.jsx)(te.a,{type:x,defaultValue:r[n],name:n,size:"small",id:"input-descr",style:{width:"100%"},onChange:c,placeholder:"form"===d?h:""});break;case"LIST":t=Object(L.jsx)(te.a,{id:"select-source",select:!0,defaultValue:r[n],name:n,onChange:c,SelectProps:{native:!0},children:("form"===d?["All"].concat(Object(ee.a)(T)):T).map((function(e){return Object(L.jsx)("option",{value:e,children:e},e)}))});break;case"AUTOCOMPLETE":t=Object(L.jsx)(ne.a,{id:"picker",size:"small",options:i,onChange:function(e,t){return o(Object(J.a)(Object(J.a)({},r),{},Object(Y.a)({},n,t)))},defaultValue:r[n],getOptionLabel:function(e){return e||""},renderInput:function(e){return Object(L.jsx)(te.a,Object(J.a)(Object(J.a)({},e),{},{variant:"outlined",placeholder:"form"===d?h:""}))}});break;case"DATE":t=Object(L.jsx)(ae.a,{utils:ce.a,children:Object(L.jsx)(s.a,{theme:g,children:Object(L.jsx)(re.a,{variant:"inline",openTo:"year",name:n,views:["year","month"],value:"form"===d?r[n]:new Date(r[n]),onChange:l})})});break;default:t=u[n].toString()}return Object(L.jsxs)(j.a,{align:"NUMERIC"===a?"right":"left",children:["form"===d&&Object(L.jsx)(V.a,{variant:"subtitle1",gutterBottom:!0,className:b.subtitle1,children:m}),t]})},Oe=function(e){var t=e.open,n=e.onClose,a=e.clients,r=e.filterData,c=e.filters,i=e.setFilters,o=e.row,l=function(e){"cancel"===e?n():r()},s=function(e){var t=(e.getMonth()+1).toString(),n=null===e||void 0===e?void 0:e.getFullYear(),a="".concat(n,"-").concat(t.padStart(2,"0"));i(Object(J.a)(Object(J.a)({},c),{},{TERMINATION_DT:a}))},u=function(e){var t=e.target,n=t.name,a=t.value;i(Object(J.a)(Object(J.a)({},c),{},Object(Y.a)({},n,a)))};return Object(L.jsxs)(W.a,{open:t,onClose:n,"aria-labelledby":"form-dialog-title",fullWidth:!0,maxWidth:"sm",children:[Object(L.jsx)(Z.a,{id:"form-dialog-title",children:"Data filters"}),Object(L.jsx)(K.a,{children:Object(L.jsx)(Q.a,{children:"Choose fields to filter rows:"})}),Object(L.jsx)(N.a,{children:Object(L.jsx)($.a,{children:Object(L.jsx)(E,{children:fe.map((function(e){return Object(L.jsx)(he,{field:e,values:c,handleChange:u,clients:a,setValues:i,handleDateChange:s,row:o,view:"form"},e)}))})})}),Object(L.jsxs)(q.a,{children:[Object(L.jsx)(h.a,{onClick:function(){return l("cancel")},color:"primary",children:"Cancel"}),Object(L.jsx)(h.a,{onClick:function(){return l("save")},color:"primary",type:"submit",children:"Filter"})]})]})},ge=n(293),me=Object(b.a)((function(){return{root:{display:"flex",alignItems:"center",borderBottom:"none",flexGrow:1}}}))(j.a),xe=function(e){var t=e.filters,n=Object.keys(t).filter((function(e){return t[e]}));return Object(L.jsxs)(me,{children:[Object(L.jsx)(V.a,{variant:"subtitle1",children:"Active filters:"}),n.map((function(e){return Object(L.jsx)(ge.a,{label:"".concat(pe[e].label," ").concat(t[e]),variant:"outlined",color:"primary"},"chip-".concat(pe[e].label))}))]})},ve={DESCRIPTION:null,SOURCE_NM:null,CLIENT_NM:null,TERMINATION_DT:null,VALUE_3:null},Te=function(e){var t=e.rows,n=e.rowsPerPage,a=e.selected,r=e.edited,c=e.activeFilter,o=e.getRows,l=e.setRowsData,s=e.toggleFilter,u=e.page,d=e.clients,b=e.setPage,j=e.setRowsPerPage,p=i.a.useState(!1),O=Object(D.a)(p,2),g=O[0],m=O[1],x=i.a.useState(ve),v=Object(D.a)(x,2),T=v[0],w=v[1];return Object(L.jsx)(N.a,{children:Object(L.jsxs)(_.a,{children:[Object(L.jsx)(Oe,{clients:d,open:g,filters:T,setFilters:w,onClose:function(){m(!1)},filterData:function(){var e=Object.keys(T).filter((function(e){return T[e]})),n=t.filter((function(t){return e.every((function(e){return"DESCRIPTION"===e?t[e].toLowerCase().includes(T[e].toLowerCase()):T[e]===t[e]}))}));l(n),m(!1),s(!0)}}),Object(L.jsxs)(f.a,{style:{display:"flex",alignItems:"center"},children:[a.length>0&&Object(L.jsx)(G,{selected:a}),c&&Object(L.jsx)(xe,{filters:T}),Object(L.jsxs)(y,{children:[Object(L.jsx)(S,{variant:"contained",color:"primary",onClick:function(){m(!0)},disabled:!1!==r,children:"Filter"}),c&&Object(L.jsx)(h.a,{variant:"outlined",color:"primary",disabled:!1!==r,onClick:function(){return Promise.resolve(o()).then((function(e){return l(e)})).then((function(){return s(!1)})).then((function(){return w(ve)}))},children:"Clear filters"})]}),Object(L.jsx)(B.a,{count:t.length,rowsPerPage:n,onChangeRowsPerPage:function(e){var t=e.target.value;j(parseInt(t,10)),b(0)},page:u,onChangePage:function(e,t){b(t)}})]})]})})},ye=function(e){var t=e.row,n=e.columnsInfo,a=e.saveData,r=e.clients,i=Object(c.useState)(t),o=Object(D.a)(i,2),l=o[0],s=o[1],u=function(e){var t=(e.getMonth()+1).toString(),n=null===e||void 0===e?void 0:e.getFullYear(),a="".concat(n,"-").concat(t.padStart(2,"0"));s(Object(J.a)(Object(J.a)({},l),{},{TERMINATION_DT:a}))},d=function(e){var t=e.target,n=t.name,a=t.value;s(Object(J.a)(Object(J.a)({},l),{},Object(Y.a)({},n,a)))};return Object(L.jsxs)(f.a,{children:[Object(L.jsx)(j.a,{padding:"checkbox",children:Object(L.jsx)(F.a,{disabled:!0})},"checkbox"),n.map((function(e){var n=e.field,a=e.type;return Object(L.jsx)(he,{field:n,displayType:a,values:l,handleChange:d,clients:r,setValues:s,handleDateChange:u,row:t,view:"table"},n)})),Object(L.jsx)(j.a,{padding:"checkbox",children:Object(L.jsx)(C,{variant:"contained",color:"primary",onClick:function(){return a(l)},children:"Save"})},t.id)]},t.id)},we=function(e){var t=e.value,n=e.id,a=e.field,r=je[a],c=r.warning;return t>r.danger?Object(L.jsx)(T,{align:"right",children:t},"".concat(a,"-").concat(n)):t>c?Object(L.jsx)(v,{align:"right",children:t},"".concat(a,"-").concat(n)):Object(L.jsx)(j.a,{align:"right",children:t},"".concat(a,"-").concat(n))},Ce=function(e,t,n){var a=oe.a.sortBy(e,(function(e){return"string"===typeof e[t]?e[t].toLowerCase():e[t]}));return"asc"===n?a:a.reverse()},Se=function(e){var t=e.rows,n=e.orderBy,a=e.order,r=e.page,i=e.rowsPerPage,o=e.edited,l=e.setSelected,s=e.selected,u=e.columns,d=e.setEdited,b=e.setRowsData,f=e.clients,p=e.activeFilter,h=Object(c.useMemo)((function(){return u.map((function(e){return{field:e.field,type:e.type}}))}),[u]);return Object(L.jsx)($.a,{children:t.length?Ce(t,n,a).slice(r*i,r*i+i).map((function(e){return o!==e.id?Object(L.jsxs)(x,{selected:-1!==s.indexOf(e.id),children:[Object(L.jsx)(j.a,{padding:"checkbox",children:Object(L.jsx)(F.a,{checked:-1!==s.indexOf(e.id),onClick:function(){return function(e){if(s.includes(e)){var t=s.filter((function(t){return t!==e}));l(t)}else l([].concat(Object(ee.a)(s),[e]))}(e.id)}})},"checkbox-".concat(e.id)),h.map((function(t){var n=t.field,a=t.type;return Object.keys(je).includes(n)?Object(L.jsx)(we,{value:e[n],id:e.id,field:n}):Object(L.jsx)(j.a,{align:"NUMERIC"===a?"right":"left",children:e[n]},"".concat(n,"-").concat(e.id))})),Object(L.jsx)(j.a,{padding:"checkbox",children:Object(L.jsx)(C,{variant:"outlined",color:"primary",onClick:function(){return d(e.id)},disabled:!1!==o&&o!==e.id,children:"Edit"})},"edit-".concat(e.id))]},e.id):Object(L.jsx)(ye,{row:e,columnsInfo:h,saveData:function(e){return function(e){var n=t.map((function(t){return t.id===o?Object.keys(e).reduce((function(n,a){return n[a]=e[a]?e[a]:t[a],n}),{}):t}));b(n),d(!1)}(e)},clients:f},e.id)})):p&&Object(L.jsx)(H,{})})},Ee=function(e){var t=e.rows,n=e.columns,a=e.setRowsData,r=i.a.useState(0),o=Object(D.a)(r,2),l=o[0],s=o[1],u=i.a.useState(10),d=Object(D.a)(u,2),b=d[0],j=d[1],f=i.a.useState("asc"),p=Object(D.a)(f,2),h=p[0],O=p[1],g=i.a.useState("RN"),m=Object(D.a)(g,2),x=m[0],v=m[1],T=i.a.useState([]),y=Object(D.a)(T,2),w=y[0],C=y[1],S=i.a.useState(!1),E=Object(D.a)(S,2),k=E[0],I=E[1],M=i.a.useState(!1),R=Object(D.a)(M,2),F=R[0],_=R[1],B=i.a.useState(!1),V=Object(D.a)(B,2),z=V[0],G=V[1],H=Object(c.useMemo)((function(){return t.map((function(e){return e.CLIENT_NM}))}),[t]);return Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)(A.a,{component:P.a,children:Object(L.jsxs)(N.a,{stickyHeader:!0,"aria-label":"simple table",size:"small",children:[Object(L.jsx)(U,{columns:n,rows:t,order:h,orderBy:x,checkAll:I,checkedAll:k,setOrder:O,setOrderBy:v,setSelected:C}),Object(L.jsx)(Se,{rows:t,orderBy:x,order:h,page:l,rowsPerPage:b,edited:F,selected:w,setEdited:_,columns:n,setRowsData:a,clients:H,activeFilter:z,setSelected:C})]})}),Object(L.jsx)(Te,{rows:t,rowsPerPage:b,selected:w,edited:F,activeFilter:z,getRows:de,setRowsData:a,toggleFilter:G,setRowsPerPage:j,page:l,setPage:s,clients:H})]})},ke=n(276),Ie=function(){return Object(L.jsx)(ke.a,{size:100})},Me=function(){var e=O(),t=Object(c.useState)([]),n=Object(D.a)(t,2),a=n[0],r=n[1],i=Object(c.useState)([]),o=Object(D.a)(i,2),l=o[0],s=o[1],u=Object(c.useState)(!1),d=Object(D.a)(u,2),b=d[0],j=d[1],f=Object(c.useState)(!1),p=Object(D.a)(f,2),h=p[0],g=p[1],m=function(){var e=Object(M.a)(I.a.mark((function e(){var t,n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,j(!0),e.next=4,be();case 4:return t=e.sent,s(t),e.next=8,de();case 8:n=e.sent,r(n),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),g(!0);case 15:return e.prev=15,j(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[0,12,15,18]])})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){m()}),[]),Object(L.jsx)("div",{className:e.root,children:b?Object(L.jsx)(Ie,{}):h?Object(L.jsx)(X,{}):Object(L.jsx)(P.a,{children:Object(L.jsx)(Ee,{rows:a,columns:l,setRowsData:r})})})},De=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,297)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))};l.a.render(Object(L.jsx)(i.a.StrictMode,{children:Object(L.jsx)(s.a,{theme:g,children:Object(L.jsx)(Me,{})})}),document.getElementById("root")),De()}},[[222,1,2]]]);
//# sourceMappingURL=main.12918645.chunk.js.map